import { uaFunc } from '../utils/ua';
export function enableQuestMobile() {
    // tslint:disable
    if (window.__quemo__) {
        return;
    }
    if ([].slice.call(document.getElementsByTagName('script')).filter(function (item) { return item.src && ~item.src.indexOf('qchannel03.cn/m2.js'); })[0]) {
        return;
    }
    // 目前仅开发移动端
    if (!(uaFunc.isAndroid() || uaFunc.isIOS())) {
        return;
    }
    var title = document.title;
    var platform = uaFunc.isAndroid() ? 'android' : 'ios';
    var from = '';
    window._maq = window._maq || [];
    var _maq = window._maq;
    _maq.push(['account', '9a120171'], ['channel', encodeURIComponent(from)], ['point', encodeURIComponent(title)], ['platform', platform]);
    (function () {
        var ma = document.createElement('script');
        ma.type = 'text/javascript';
        ma.async = true;
        ma.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://www.qchannel03.cn/m2.js?w=' + _maq[0][1];
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ma, s);
        window.__quemo__ = true;
    })();
}
