import { __assign } from "tslib";
import event from './event';
import { repTypes } from '../../config';
import pageData from '../../share/pageData';
import { notifyNative } from '../../share/iting';
var force = false;
/** 点击跳转 */
export function click(metaId, currModule, extra) {
    force = false;
    base(metaId, currModule, extra);
}
/** 跳转强制上报 */
export function clickForce(metaId, currModule, extra) {
    force = true;
    base(metaId, currModule, extra);
}
function base(metaId, currModule, extra) {
    var data = {};
    if (typeof currModule === 'string') {
        data.currModule = currModule || undefined;
        pageData.prevModule = currModule || undefined;
        currModule && notifyNative(pageData.prevPage || '', currModule);
    }
    else {
        data = currModule;
        pageData.prevModule = undefined;
    }
    return event.bind(this)(metaId, repTypes.UBT.subTypes.CLICK, __assign(__assign({}, data), extra), force);
}
