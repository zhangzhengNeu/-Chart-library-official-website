### XLOG上报策略

每次请求响应时读取服务端设置的发送开关，并统计请求失败次数；每次发送前判断当前是否可发送、发送失败是否达到上限，并决定是否进行如下步骤；

1. 用户进入页面时，查看本地缓存队列，如果存在数据，取出并直接发送（不考虑失败情况）；APP内环境会同步客户端带来的`appId`, `deviceId`, `sessionId`等信息
2. 当前没有正在发送数据：用户调用一次相关函数则立即上报数据，用户连续同步调用多次函数则合并需要上报的数据，再立即上报，同时将数据加入正在发送列表。
发送成功或失败都从正在发送列表中移除，若失败，则加入发送失败队列，并缓存到本地（根据优先级判断是否需要缓存），并转4
3. 当前存在发送数据：用户调用上报，直接将数据加入待发送列表，等待4
4. 每次发送结束，排序待发送列表，并取出最大允许发送数量的事件并上报，同时加入正在发送队列，转2
5. 用户关闭页面：如果此时有正在发送的数据，延时关闭，否则将失败队列中数据加入发送队列并上报，同时删除本地缓存（不考虑失败情况）
